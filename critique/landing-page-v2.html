<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neural Pathways | Mathematical Intuition</title>
  <meta name="description" content="Interactive visualizations for the mathematics of machine learning.">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Icons -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

  <!-- Tailwind CSS (via CDN for single file portability) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['"Plus Jakarta Sans"', 'sans-serif'],
            mono: ['"JetBrains Mono"', 'monospace'],
          },
          colors: {
            neural: {
              bg: '#050508', // Deepest black-blue
              card: '#0f111a', // Slightly lighter for cards
              border: '#1e2130',
              accent: '#6366f1', // Indigo
              success: '#10b981', // Emerald
              glow: 'rgba(99, 102, 241, 0.15)'
            }
          },
          animation: {
            'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'float': 'float 6s ease-in-out infinite',
          },
          keyframes: {
            float: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-10px)' },
            }
          }
        }
      }
    }
  </script>

  <style>
    /* Custom Utilities & Effects */
    body {
      background-color: #050508;
      color: #e2e8f0;
      overflow-x: hidden;
    }

    /* Neural Mesh Background */
    #neural-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.6; /* Slight opacity to blend with background color */
    }

    /* Glassmorphism Cards */
    .glass-panel {
      background: rgba(15, 17, 26, 0.7);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    .glass-panel:hover {
      transform: translateY(-4px);
      border-color: rgba(99, 102, 241, 0.3);
      box-shadow: 0 10px 40px -10px rgba(99, 102, 241, 0.2);
    }

    /* Category Specific Glows */
    .cat-blue:hover { border-color: rgba(56, 189, 248, 0.4); box-shadow: 0 10px 40px -10px rgba(56, 189, 248, 0.15); }
    .cat-purple:hover { border-color: rgba(168, 85, 247, 0.4); box-shadow: 0 10px 40px -10px rgba(168, 85, 247, 0.15); }
    .cat-emerald:hover { border-color: rgba(52, 211, 153, 0.4); box-shadow: 0 10px 40px -10px rgba(52, 211, 153, 0.15); }
    .cat-amber:hover { border-color: rgba(251, 191, 36, 0.4); box-shadow: 0 10px 40px -10px rgba(251, 191, 36, 0.15); }
    .cat-rose:hover { border-color: rgba(244, 63, 94, 0.4); box-shadow: 0 10px 40px -10px rgba(244, 63, 94, 0.15); }

    /* Topic Links */
    .topic-link {
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
    }
    
    .topic-link::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 2px;
      background: currentColor;
      transform: scaleY(0);
      transition: transform 0.2s ease;
      transform-origin: bottom;
    }

    .topic-link:hover {
      background: rgba(255,255,255,0.03);
      padding-left: 1rem;
    }

    .topic-link:hover::before {
      transform: scaleY(1);
      transform-origin: top;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #050508;
    }
    ::-webkit-scrollbar-thumb {
      background: #1e2130;
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #313545;
    }

    /* Gradient Text */
    .text-gradient {
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-image: linear-gradient(to right, #818cf8, #38bdf8);
    }
  </style>
</head>
<body class="antialiased selection:bg-indigo-500 selection:text-white">

  <!-- Background Canvas -->
  <canvas id="neural-canvas"></canvas>

  <!-- Navigation -->
  <nav class="fixed top-0 w-full z-50 border-b border-white/5 bg-[#050508]/80 backdrop-blur-md">
    <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
      <a href="#" class="flex items-center gap-3 group">
        <div class="relative w-8 h-8 flex items-center justify-center bg-indigo-500/10 rounded-lg group-hover:bg-indigo-500/20 transition-colors">
          <i class="ri-node-tree text-indigo-400 text-xl"></i>
          <div class="absolute inset-0 bg-indigo-500/20 blur-lg opacity-0 group-hover:opacity-100 transition-opacity"></div>
        </div>
        <div class="flex flex-col">
          <span class="font-bold text-sm tracking-wide text-slate-200">NEURAL<span class="text-indigo-400">PATHWAYS</span></span>
          <span class="text-[10px] text-slate-500 font-mono">v2.0.4 // STABLE</span>
        </div>
      </a>
      
      <div class="hidden md:flex items-center gap-8 text-sm font-medium text-slate-400">
        <a href="#curriculum" class="hover:text-white transition-colors">Modules</a>
        <a href="#" class="hover:text-white transition-colors">Playgrounds</a>
        <a href="#" class="hover:text-white transition-colors">About</a>
        <a href="#" class="flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-full border border-white/10 transition-all">
          <span>Sign In</span>
          <i class="ri-arrow-right-line"></i>
        </a>
      </div>
    </div>
  </nav>

  <main class="relative z-10 pt-32 pb-20">
    
    <!-- Hero Section -->
    <section class="max-w-7xl mx-auto px-6 mb-32">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div class="space-y-8">
          <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-400 text-xs font-mono">
            <span class="relative flex h-2 w-2">
              <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"></span>
              <span class="relative inline-flex rounded-full h-2 w-2 bg-indigo-500"></span>
            </span>
            SYSTEM ONLINE: INTERACTIVE MODE
          </div>
          
          <h1 class="text-5xl md:text-7xl font-bold tracking-tight leading-tight">
            Decode the <br>
            <span class="text-gradient">Black Box</span>
          </h1>
          
          <p class="text-lg text-slate-400 max-w-xl leading-relaxed">
            Stop treating Neural Networks like magic. Visualize the linear algebra, calculus, and optimization dynamics that power modern AI. Built for engineers who learn by seeing.
          </p>

          <div class="flex flex-wrap gap-4">
            <button class="px-8 py-4 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-semibold shadow-lg shadow-indigo-500/20 transition-all hover:scale-105 flex items-center gap-2">
              <i class="ri-play-circle-line text-xl"></i>
              Start Learning
            </button>
            <button class="px-8 py-4 bg-[#0f111a] hover:bg-[#161925] border border-white/10 text-slate-300 rounded-lg font-semibold transition-all hover:border-white/20 flex items-center gap-2">
              <i class="ri-github-fill text-xl"></i>
              View Source
            </button>
          </div>

          <!-- Quick Stats -->
          <div class="grid grid-cols-3 gap-8 pt-8 border-t border-white/5">
            <div>
              <div class="text-2xl font-bold font-mono text-white">42</div>
              <div class="text-xs text-slate-500 uppercase tracking-wider mt-1">Modules</div>
            </div>
            <div>
              <div class="text-2xl font-bold font-mono text-white">100%</div>
              <div class="text-xs text-slate-500 uppercase tracking-wider mt-1">Interactive</div>
            </div>
            <div>
              <div class="text-2xl font-bold font-mono text-white">WebGL</div>
              <div class="text-xs text-slate-500 uppercase tracking-wider mt-1">Accelerated</div>
            </div>
          </div>
        </div>

        <!-- Abstract Visualization Placeholder (CSS Art) -->
        <div class="relative hidden lg:block h-[500px]">
          <div class="absolute inset-0 bg-gradient-to-tr from-indigo-500/20 to-cyan-500/20 blur-3xl rounded-full animate-pulse-slow"></div>
          <!-- We rely on the canvas background for the main visual, this is just a glowing focal point -->
        </div>
      </div>
    </section>

    <!-- Curriculum Grid -->
    <section id="curriculum" class="max-w-7xl mx-auto px-6">
      <div class="flex items-end justify-between mb-12">
        <div>
          <h2 class="text-3xl font-bold text-white mb-2">Curriculum Matrix</h2>
          <p class="text-slate-400">Select a computational module to inspect.</p>
        </div>
        
        <div class="flex gap-2 bg-white/5 p-1 rounded-lg">
          <button class="p-2 text-white bg-white/10 rounded shadow-sm"><i class="ri-grid-fill"></i></button>
          <button class="p-2 text-slate-500 hover:text-white transition-colors"><i class="ri-list-check"></i></button>
        </div>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        
        <!-- MODULE A: Linear Algebra -->
        <article class="glass-panel rounded-xl p-6 cat-blue group">
          <div class="flex justify-between items-start mb-6">
            <div class="w-12 h-12 rounded-lg bg-sky-500/10 flex items-center justify-center border border-sky-500/20 text-sky-400">
              <i class="ri-ruler-2-line text-2xl"></i>
            </div>
            <span class="font-mono text-xs text-slate-500 bg-white/5 px-2 py-1 rounded">MOD-A</span>
          </div>
          <h3 class="text-xl font-bold text-white mb-2 group-hover:text-sky-400 transition-colors">Linear Algebra</h3>
          <p class="text-sm text-slate-400 mb-6">The engine of deep learning. Spaces, transforms, and tensors.</p>
          
          <ul class="space-y-3">
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-sky-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-sky-500/50">A1</span> Vector Ops</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-sky-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-sky-500/50">A2</span> Matrix Multiply</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-sky-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-sky-500/50">A5</span> Eigenvectors</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
          </ul>
        </article>

        <!-- MODULE B: Calculus -->
        <article class="glass-panel rounded-xl p-6 cat-purple group">
          <div class="flex justify-between items-start mb-6">
            <div class="w-12 h-12 rounded-lg bg-purple-500/10 flex items-center justify-center border border-purple-500/20 text-purple-400">
              <i class="ri-functions-line text-2xl"></i>
            </div>
            <span class="font-mono text-xs text-slate-500 bg-white/5 px-2 py-1 rounded">MOD-B</span>
          </div>
          <h3 class="text-xl font-bold text-white mb-2 group-hover:text-purple-400 transition-colors">Calculus Essentials</h3>
          <p class="text-sm text-slate-400 mb-6">Understanding change. Gradients, derivatives, and backprop.</p>
          
          <ul class="space-y-3">
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-purple-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-purple-500/50">B1</span> Derivative Slope</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-purple-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-purple-500/50">B3</span> Gradient Vector</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-purple-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-purple-500/50">B4</span> Chain Rule</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
          </ul>
        </article>

        <!-- MODULE C: Operations -->
        <article class="glass-panel rounded-xl p-6 cat-emerald group">
          <div class="flex justify-between items-start mb-6">
            <div class="w-12 h-12 rounded-lg bg-emerald-500/10 flex items-center justify-center border border-emerald-500/20 text-emerald-400">
              <i class="ri-cpu-line text-2xl"></i>
            </div>
            <span class="font-mono text-xs text-slate-500 bg-white/5 px-2 py-1 rounded">MOD-C</span>
          </div>
          <h3 class="text-xl font-bold text-white mb-2 group-hover:text-emerald-400 transition-colors">Network Operations</h3>
          <p class="text-sm text-slate-400 mb-6">The mechanics of learning. Activation, loss, and propagation.</p>
          
          <ul class="space-y-3">
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-emerald-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-emerald-500/50">C1</span> Forward Pass</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-emerald-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-emerald-500/50">C2</span> Backpropagation</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-emerald-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-emerald-500/50">C5</span> Loss Landscapes</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
          </ul>
        </article>

        <!-- MODULE D: Optimisation -->
        <article class="glass-panel rounded-xl p-6 cat-amber group">
          <div class="flex justify-between items-start mb-6">
            <div class="w-12 h-12 rounded-lg bg-amber-500/10 flex items-center justify-center border border-amber-500/20 text-amber-400">
              <i class="ri-flashlight-line text-2xl"></i>
            </div>
            <span class="font-mono text-xs text-slate-500 bg-white/5 px-2 py-1 rounded">MOD-D</span>
          </div>
          <h3 class="text-xl font-bold text-white mb-2 group-hover:text-amber-400 transition-colors">Optimisation</h3>
          <p class="text-sm text-slate-400 mb-6">Finding the minimum. Stochastic methods and hyperparams.</p>
          
          <ul class="space-y-3">
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-amber-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-amber-500/50">D1</span> Gradient Descent</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-amber-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-amber-500/50">D2</span> Learning Rate</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-amber-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-amber-500/50">D4</span> Regularisation</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
          </ul>
        </article>

         <!-- MODULE E: Architecture -->
         <article class="glass-panel rounded-xl p-6 cat-rose group">
          <div class="flex justify-between items-start mb-6">
            <div class="w-12 h-12 rounded-lg bg-rose-500/10 flex items-center justify-center border border-rose-500/20 text-rose-400">
              <i class="ri-building-3-line text-2xl"></i>
            </div>
            <span class="font-mono text-xs text-slate-500 bg-white/5 px-2 py-1 rounded">MOD-E</span>
          </div>
          <h3 class="text-xl font-bold text-white mb-2 group-hover:text-rose-400 transition-colors">Architecture</h3>
          <p class="text-sm text-slate-400 mb-6">Structural patterns. CNNs, Transformers, and RNNs.</p>
          
          <ul class="space-y-3">
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-rose-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-rose-500/50">E1</span> CNN Explorer</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-rose-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-rose-500/50">E2</span> Attention</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
            <li>
              <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-rose-300">
                <span class="flex items-center gap-3"><span class="font-mono text-xs text-rose-500/50">E3</span> Latent Space</span>
                <i class="ri-checkbox-circle-line text-slate-600"></i>
              </a>
            </li>
          </ul>
        </article>

        <!-- MODULE G: Playgrounds -->
        <article class="glass-panel rounded-xl p-6 group relative overflow-hidden">
          <div class="absolute inset-0 bg-gradient-to-br from-indigo-600/20 to-purple-600/20 opacity-0 group-hover:opacity-100 transition-opacity"></div>
          <div class="relative z-10">
            <div class="flex justify-between items-start mb-6">
              <div class="w-12 h-12 rounded-lg bg-white/10 flex items-center justify-center border border-white/20 text-white">
                <i class="ri-gamepad-line text-2xl"></i>
              </div>
              <span class="font-mono text-xs text-slate-500 bg-white/5 px-2 py-1 rounded">MOD-G</span>
            </div>
            <h3 class="text-xl font-bold text-white mb-2 group-hover:text-indigo-300 transition-colors">Playgrounds</h3>
            <p class="text-sm text-slate-400 mb-6">Interactive experiments. Test your intuition in real-time.</p>
            
            <ul class="space-y-3">
              <li>
                <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-white">
                  <span class="flex items-center gap-3"><span class="font-mono text-xs text-white/50">G1</span> Perceptron</span>
                  <i class="ri-arrow-right-line text-slate-600"></i>
                </a>
              </li>
              <li>
                <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-white">
                  <span class="flex items-center gap-3"><span class="font-mono text-xs text-white/50">G3</span> GAN Dance</span>
                  <i class="ri-arrow-right-line text-slate-600"></i>
                </a>
              </li>
              <li>
                <a href="#" class="topic-link flex items-center justify-between text-sm p-2 rounded text-slate-300 hover:text-white">
                  <span class="flex items-center gap-3"><span class="font-mono text-xs text-white/50">G4</span> Decision Bounds</span>
                  <i class="ri-arrow-right-line text-slate-600"></i>
                </a>
              </li>
            </ul>
          </div>
        </article>

      </div>
    </section>
  </main>

  <footer class="border-t border-white/5 bg-[#030305] py-12">
    <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6">
      <div class="flex items-center gap-3">
        <i class="ri-node-tree text-indigo-500 text-xl"></i>
        <span class="font-semibold text-slate-300">Neural Pathways</span>
      </div>
      <p class="text-sm text-slate-600">Â© 2024 Learning ML through Visualization. Open Source.</p>
      <div class="flex gap-4">
        <a href="#" class="text-slate-500 hover:text-indigo-400 transition-colors"><i class="ri-twitter-x-line text-xl"></i></a>
        <a href="#" class="text-slate-500 hover:text-white transition-colors"><i class="ri-github-line text-xl"></i></a>
        <a href="#" class="text-slate-500 hover:text-rose-400 transition-colors"><i class="ri-heart-line text-xl"></i></a>
      </div>
    </div>
  </footer>

  <script>
    /**
     * ADVANCED NEURAL MESH ANIMATION
     * Creates a network of nodes that pulse signals along their connections
     */
    const canvas = document.getElementById('neural-canvas');
    const ctx = canvas.getContext('2d');
    
    let width, height;
    let nodes = [];
    let connections = [];
    let signals = [];

    // Configuration
    const NODE_COUNT_FACTOR = 15000; // Higher = fewer nodes
    const CONNECTION_DISTANCE = 150;
    const SIGNAL_SPEED = 2;
    const SIGNAL_CHANCE = 0.01; // Chance per frame to spawn a signal

    class Node {
      constructor() {
        this.x = Math.random() * width;
        this.y = Math.random() * height;
        this.vx = (Math.random() - 0.5) * 0.2;
        this.vy = (Math.random() - 0.5) * 0.2;
        this.radius = Math.random() * 1.5 + 1;
        this.baseColor = 'rgba(99, 102, 241, 0.5)'; // Indigo-ish
      }

      update() {
        this.x += this.vx;
        this.y += this.vy;

        // Bounce
        if (this.x < 0 || this.x > width) this.vx *= -1;
        if (this.y < 0 || this.y > height) this.vy *= -1;
      }

      draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fillStyle = this.baseColor;
        ctx.fill();
      }
    }

    class Signal {
      constructor(startNode, endNode) {
        this.start = startNode;
        this.end = endNode;
        this.progress = 0;
        this.dead = false;
        // Signals are bright cyan or bright violet
        this.color = Math.random() > 0.5 ? '#38bdf8' : '#a855f7';
      }

      update() {
        this.progress += SIGNAL_SPEED / Math.hypot(this.end.x - this.start.x, this.end.y - this.start.y);
        if (this.progress >= 1) {
          this.dead = true;
          // Flash the end node briefly? (Could add advanced effect here)
        }
      }

      draw() {
        if (this.dead) return;
        const x = this.start.x + (this.end.x - this.start.x) * this.progress;
        const y = this.start.y + (this.end.y - this.start.y) * this.progress;
        
        // Draw the moving packet
        ctx.beginPath();
        ctx.arc(x, y, 2, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.fill();
        
        // Trail
        ctx.shadowBlur = 10;
        ctx.shadowColor = this.color;
      }
    }

    function init() {
      resize();
      createNodes();
      animate();
    }

    function resize() {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;
    }

    function createNodes() {
      nodes = [];
      const count = Math.floor((width * height) / NODE_COUNT_FACTOR);
      for (let i = 0; i < count; i++) {
        nodes.push(new Node());
      }
    }

    function animate() {
      ctx.clearRect(0, 0, width, height);
      ctx.shadowBlur = 0; // Reset shadow for lines

      // Update Nodes
      nodes.forEach(node => {
        node.update();
        node.draw();
      });

      // Connections & Signals
      connections = []; // Reset per frame for simplicity (can optimize)
      
      for (let i = 0; i < nodes.length; i++) {
        for (let j = i + 1; j < nodes.length; j++) {
          const dx = nodes[i].x - nodes[j].x;
          const dy = nodes[i].y - nodes[j].y;
          const dist = Math.hypot(dx, dy);

          if (dist < CONNECTION_DISTANCE) {
            // Draw static connection
            ctx.beginPath();
            ctx.moveTo(nodes[i].x, nodes[i].y);
            ctx.lineTo(nodes[j].x, nodes[j].y);
            const opacity = 1 - (dist / CONNECTION_DISTANCE);
            ctx.strokeStyle = `rgba(50, 60, 90, ${opacity * 0.3})`;
            ctx.lineWidth = 1;
            ctx.stroke();

            // Chance to spawn signal
            if (Math.random() < SIGNAL_CHANCE * 0.1) { // Low chance per pair
              signals.push(new Signal(nodes[i], nodes[j]));
            }
          }
        }
      }

      // Update & Draw Signals
      ctx.globalCompositeOperation = 'screen'; // Make them glow nicely
      for (let i = signals.length - 1; i >= 0; i--) {
        signals[i].update();
        signals[i].draw();
        if (signals[i].dead) signals.splice(i, 1);
      }
      ctx.globalCompositeOperation = 'source-over';

      requestAnimationFrame(animate);
    }

    window.addEventListener('resize', () => {
      resize();
      createNodes(); // Recreate nodes to fit new area
    });

    init();
  </script>
</body>
</html>